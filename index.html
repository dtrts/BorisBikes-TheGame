<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <script src="./lib/person.js"></script>
  <script src="./lib/world.js"></script>
</head>

<body>

<button id="button">Create</button>
<button id="button">Move</button>
  <script>

    var body = document.getElementsByTagName("body")[0];
    var canvas = document.createElement("canvas");
    canvas.height = window.innerHeight ;
    canvas.width = window.innerWidth ;
    var context = canvas.getContext("2d");
    body.appendChild(canvas);

    world = new World
    person = new Person

    // console.log(person === )

    function create() {
      //  Opacity
      // world.generatePerson()
      context.globalAlpha = 0.7;
      var color = '#' + Math.round(0xffffff * Math.random()).toString(16);
      context.fillStyle = color;
      // Each rectangle's size is (20 ~ 100, 20 ~ 100)


      world.generatePerson()


      console.log(world.people);

    }

    function drawPeople() {
      const context = canvas.getContext('2d');
      context.clearRect(0, 0, canvas.width, canvas.height);
      world.tick();
      // Remove people
      // Redraw all people
       var width = 20;
      var height = 20;
      people = world.people
      people.forEach(person => {
        context.fillRect(person._location[0]*canvas.width, person._location[1]* canvas.height, width, height);
      });

    }
    setInterval(drawPeople,50)

    // function Square(width, height, color, x, y) {
    //     this.person = world.generatePerson()

    //     context.fillRect(person._location[0], person._location[1], width, height);
    //   }

    document.getElementById('button').addEventListener('click', create);

  </script>
  <br>



</body>

</html>
